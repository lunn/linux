# SPDX-License-Identifier: GPL-2.0-only OR BSD-2-Clause
%YAML 1.2
---
$id: http://devicetree.org/schemas/pinctrl/marvell,ac5-pinctrl.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Marvell AC5 pin controller

maintainers:
  - Chris Packham <chris.packham@alliedtelesis.co.nz>

description:
  Bindings for Marvell's AC5 memory-mapped pin controller.

properties:
  compatible:
    items:
      - const: marvell,ac5-pinctrl

  reg:
    maxItems: 1

patternProperties:
  '^pmx-':
    type: object
    $ref: pinmux-node.yaml#

    properties:
      marvell,function:
        $ref: "/schemas/types.yaml#/definitions/string"
        description:
          Indicates the function to select.
        enum: [ dev_init_done, ge, gpio, i2c0, i2c1, int_out, led, nand, pcie,
                ptp, sdio, spi0, spi1, synce, tsen_int, uart0, uart1, uart2,
                uart3, uartsd, wd_int, xg ]

      marvell,pins:
        $ref: /schemas/types.yaml#/definitions/string-array
        description:
          Array of MPP pins to be used for the given function.
        minItems: 1
        items:
          pattern: '^mpp([0-9]|[1-3][0-9]|4[0-5])$'

    required:
      - marvell,function
      - marvell,pins

  additionalProperties: false

allOf:
  - $ref: "pinctrl.yaml#"

required:
  - compatible
  - reg

additionalProperties: false

examples:
  - |
    pinctrl@80020100 {
      compatible = "marvell,ac5-pinctrl";
      reg = <0x80020100 0x20>;

      pmx_i2c0_pins: pmx-i2c0 {
        marvell,pins = "mpp26", "mpp27";
        marvell,function = "i2c0";
      };

      pmx_i2c0_gpio: pmx-gpio-i2c0 {
        marvell,pins = "mpp26", "mpp27";
        marvell,function = "gpio";
      };
    };
