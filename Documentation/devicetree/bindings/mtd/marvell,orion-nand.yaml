# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/mtd/marvell,orion-nand.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Marvell Orion NAND Controller

allOf:
  - $ref: "nand-controller.yaml"

maintainers:
  - Andrew Lunn <andrew@lunn.ch>

properties:
  compatible:
    enum:
      - marvell,orion-nand

  "#address-cells":
    const: 1

  "#size-cells":
    const: 1

  reg:
    maxItems: 1

  interrupts:
    maxItems: 1

  clocks:
    maxItems: 1

  cle:
    description:
      Address line number connected to CLE. Default is 0
    $ref: /schemas/types.yaml#/definitions/uint32
    minimum: 0
    maximum: 255

  ale:
    description:
      Address line number connected to ALE. Default is 1
    $ref: /schemas/types.yaml#/definitions/uint32
    minimum: 0
    maximum: 255

  bank-width:
    description: Width (in bytes) of the bank.  Equal to the device width times
      the number of interleaved chips.
    $ref: /schemas/types.yaml#/definitions/uint32
    enum: [ 1, 2, 4 ]

  chip-delay:
    description:
      Chip dependent delay for transferring data from array to read
      registers in usecs
    $ref: /schemas/types.yaml#/definitions/uint32
    minimum: 0
    maximum: 255

  partitions:
    description:
      Deprecated container of partitions
    type: object

patternProperties:
  "@[0-9a-f]+$":
    $ref: "/schemas/mtd/partitions/partition.yaml"
    description:
      Partitions within the NAND

required:
  - compatible
  - reg

additionalProperties: false

examples:
  - |
    nand-controller@f4000000 {
        compatible = "marvell,orion-nand";
        #address-cells = <1>;
        #size-cells = <1>;
        cle = <0>;
        ale = <1>;
        bank-width = <1>;
        chip-delay = <25>;
        reg = <0xf4000000 0x400>;

        partition@0 {
            label = "u-boot";
            reg = <0x0000000 0x100000>;
            read-only;
        };
    };
...
